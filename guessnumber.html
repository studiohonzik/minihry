<!DOCTYPE html>
<html>
<head>
  <style>
      #scoreboard {
    position:absolute; 
    top:10px; 
    right:10px; 
    border-radius:15px; /* Increase the border radius here */
    padding:10px; 
    background-color:#f8f8f8; 
    border:1px solid #ddd;
  }
    @font-face {
            font-family: "Exo 2";
            src: url("Exo2-VariableFont_wght.ttf");
        }
    body, input, button, select { /* P≈ôid√°n√≠ stylu Exo 2 na textov√© pole, tlaƒç√≠tko a rolovac√≠ menu */
      font-family: "Exo 2";
    }
    body {
      animation: pulse 15s infinite;
    }
    button {
      border: none;
      color: black;
      padding: 10px 20px; /* Men≈°√≠ velikost tlaƒç√≠tka */
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 14px; /* Men≈°√≠ velikost p√≠sma */
      margin: 4px 2px;
      cursor: pointer;
      border-radius: 12px;
      transition-duration: 0.4s;
      height: 40px; /* Stejn√° v√Ω≈°ka jako textov√© pole */
    }

    button:hover {
      background-color: darkslateblue;
      color: white;
    }

    /* Styly pro textov√© pole */
    input[type="text"] {
        width: 200px; /* ≈†ir≈°√≠ textov√© pole */
        padding: 12px 20px; /* Vƒõt≈°√≠ textov√© pole */
        margin-top: 8px; /* Men≈°√≠ mezera mezi nadpisem a textov√Ωm polem */
        box-sizing: border-box;
        border-radius: 4px; /* Zaoblen√© rohy */
        font-size: 16px; /* Vƒõt≈°√≠ p√≠smo */
        height: 40px; /* Stejn√° v√Ω≈°ka jako tlaƒç√≠tko */
    }

    /* Styly pro rolovac√≠ menu a n√°pis obt√≠≈ænosti */
    #difficulty, #difficulty-label {
        position: fixed; /* Fixovan√° pozice */
        right: 20px; /* Odsazen√≠ od prav√©ho okraje */
        bottom: 20px; /* Odsazen√≠ od doln√≠ho okraje */
    }

    /* Styly pro scoreboard */
    #scoreboard {
        position: fixed; /* Fixovan√° pozice */
        right: 20px; /* Odsazen√≠ od prav√©ho okraje */
        top: 20px; /* Odsazen√≠ od horn√≠ho okraje */
        font-size: larger; /* Vƒõt≈°√≠ p√≠smo */
        width: fit-content; /* ≈†√≠≈ôka podle obsahu */
    }

    @keyframes pulse {
    0% {
      background-color: white;
    }
    50% {
      background-color: #3ead85;
    }
    100% {
      background-color: white;
    }
  }
  </style>
    <title>H√°dej ƒç√≠slo</title>
    <script type="text/javascript">
        let maxNumber = 100; // Maxim√°ln√≠ ƒç√≠slo pro danou obt√≠≈ænost
        let secretNumber = Math.floor(Math.random() * maxNumber) + 1;
        let attempts = 0;

        // Naƒçten√≠ sk√≥re z cookies
        let totalAttempts = parseInt(getCookie('totalAttempts')) || 0;
        let gamesWon = parseInt(getCookie('gamesWon')) || 0;

        function guessNumber() {
            let userGuess = parseInt(document.getElementById('guess').value);
            attempts++;

            if (isNaN(userGuess) || userGuess < 1 || userGuess > maxNumber) {
                document.getElementById('result').innerHTML = "<span style='color:#FF0000;'>To nevypad√° jako platn√© ƒç√≠slo! Zkus to znovu! üîÅ</span>";
            } else if (userGuess < secretNumber) {
                document.getElementById('result').innerHTML = "<span style='color:#FFA500;'>Tv≈Øj tip je p≈ô√≠li≈° <strong>n√≠zk√Ω</strong>! Zkus to znovu! üîÅ</span>";
            } else if (userGuess > secretNumber) {
                document.getElementById('result').innerHTML = "<span style='color:#FFA500;'>Tv≈Øj tip je p≈ô√≠li≈° <strong>vysok√Ω</strong>! Zkus to znovu! üîÅ</span>";
            } else if (userGuess === secretNumber) {
                document.getElementById('result').innerHTML = "<span style='color:#008000;'><strong>GG, uhodl jsi ƒç√≠slo v " + attempts + " pokusech! üéâ</strong></span>";
                gamesWon++;
                totalAttempts += attempts;
                setCookie('totalAttempts', totalAttempts, 30);
                setCookie('gamesWon', gamesWon, 30);
                updateScoreboard();
            }
    updateScoreboard();

            // Vyma≈æe obsah textov√©ho pole
            document.getElementById('guess').value = '';
        }

        // Funkce pro detekci stisknut√≠ kl√°vesy Enter
        function checkForEnter(event) {
            if (event.keyCode === 13) {
                guessNumber();
            }
        }

        // Funkce pro zmƒõnu obt√≠≈ænosti
        function changeDifficulty() {
            let difficulty = document.getElementById('difficulty').value;

            switch(difficulty) {
                case 'Velmi Lehk√° (1 - 25)':
                    maxNumber = 25;
                    break;
                case 'Lehk√° (1 - 100)':
                    maxNumber = 100;
                    break;
                case 'St≈ôedn√≠ (1 - 1000)':
                    maxNumber = 1000;
                    break;
                case 'Tƒõ≈æk√° (1 - 10000)':
                    maxNumber = 10000;
                    break;
                case 'Velmi Tƒõ≈æk√° (1 - 100000)':
                    maxNumber = 100000;
                    break;
                case 'Extr√©mnƒõ Tƒõ≈æk√° (1 - 1000000)':
                    maxNumber = 1000000;
                    break;
                default:
                    maxNumber = 100; // Default je St≈ôedn√≠ obt√≠≈ænost
            }

            secretNumber = Math.floor(Math.random() * maxNumber) + 1; // Vygeneruje nov√© tajn√© ƒç√≠slo v nov√©m rozsahu
            attempts = 0; // Resetuje poƒçet pokus≈Ø
            document.getElementById('result').textContent = ''; // Vyma≈æe v√Ωsledek
        }

        // Funkce pro nastaven√≠ cookie
        function setCookie(cname, cvalue, exdays) {
            var d = new Date();
            d.setTime(d.getTime() + (exdays*24*60*60*1000));
            var expires = "expires="+ d.toUTCString();
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
        }

        // Funkce pro naƒçten√≠ cookie
        function getCookie(cname) {
            var name = cname + "=";
            var decodedCookie = decodeURIComponent(document.cookie);
            var ca = decodedCookie.split(';');
            for(var i = 0; i <ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }

        // Funkce pro aktualizaci scoreboardu
        function updateScoreboard() {
            let averageAttempts = (totalAttempts / gamesWon).toFixed(2);
            document.getElementById('averageAttempts').textContent = averageAttempts;
            document.getElementById('currentAttempts').textContent = attempts;
        }
    </script>
</head>
<body>
    <h1>H√°dej ƒç√≠slo!</h1>
  <a href="index.html" style="position:absolute; bottom:10px; left:10px;">Hlavn√≠ strana</a>
    <input type="text" id="guess" placeholder="Zadej sv≈Øj tip" onkeydown="checkForEnter(event)">
    <button onclick="guessNumber()">Hr√°t</button>
    <p id="result"></p>
    <div id="scoreboard">
      <h2>Sk√≥re üìä</h2>
      <hr/>
      Pr≈Ømƒõrnƒõ uhodnuto v: <span id="averageAttempts"></span> pokusech
      <hr/>
      Toto kolo pokus≈Ø: <span id="currentAttempts"></span>
    </div>
    <p id="difficulty-label">Obt√≠≈ænost:</p>
    <select id="difficulty" onchange="changeDifficulty()">
        <option>Velmi Lehk√° (1 - 25)</option>
        <option selected>Lehk√° (1 - 100)</option>
        <option>St≈ôedn√≠ (1 - 1000)</option>
        <option>Tƒõ≈æk√° (1 - 10000)</option>
        <option>Velmi tƒõ≈æk√° (1 - 100000)</option>
        <option>Extr√©mnƒõ Tƒõ≈æk√° (1 - 1000000)</option>
      
    </select>
</body>
</html>
